"use strict";(self.webpackChunkreference_docs=self.webpackChunkreference_docs||[]).push([[91169],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var s=2;s<o;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},400:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var a=n(87462),r=(n(67294),n(3905));const o={id:"vercel",title:"Vercel",description:"The fastest way to get up and running with an application that uses Supabase is with Vercel's Next.js starter and Supabase integration."},l=void 0,i={unversionedId:"guides/integrations/vercel",id:"guides/integrations/vercel",title:"Vercel",description:"The fastest way to get up and running with an application that uses Supabase is with Vercel's Next.js starter and Supabase integration.",source:"@site/docs/guides/integrations/vercel.mdx",sourceDirName:"guides/integrations",slug:"/guides/integrations/vercel",permalink:"/docs/guides/integrations/vercel",draft:!1,editUrl:"https://github.com/docs/guides/integrations/vercel.mdx",tags:[],version:"current",frontMatter:{id:"vercel",title:"Vercel",description:"The fastest way to get up and running with an application that uses Supabase is with Vercel's Next.js starter and Supabase integration."}},p={},s=[{value:"Step 1: Create a Supabase project",id:"step-1-create-a-supabase-project",level:2},{value:"Step 2: Create Vercel project",id:"step-2-create-vercel-project",level:2},{value:"Step 3: Clone GitHub repo",id:"step-3-clone-github-repo",level:2},{value:"Step 4: Pull environment variables from Vercel",id:"step-4-pull-environment-variables-from-vercel",level:2},{value:"Step 5: Install Supabase.js",id:"step-5-install-supabasejs",level:2},{value:"Resources",id:"resources",level:2}],c={toc:s};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This guide steps through using Vercel's dashboard to create a Next.js project integrated with Supabase. To further streamline the process, we will be using the Next.js starter template, which can be automatically forked to a new GitHub repo, without leaving the dashboard!"),(0,r.kt)("p",null,"If you don\u2019t have a Vercel account, create one ",(0,r.kt)("a",{parentName:"p",href:"https://vercel.com/signup"},"here"),"."),(0,r.kt)("h2",{id:"step-1-create-a-supabase-project"},"Step 1: Create a Supabase project"),(0,r.kt)("p",null,"This guide could use an existing Supabase project, but to create the ",(0,r.kt)("inlineCode",{parentName:"p"},"todo")," demo from scratch, navigate to ",(0,r.kt)("a",{parentName:"p",href:"https://app.supabase.com/"},"Supabase"),", click ",(0,r.kt)("inlineCode",{parentName:"p"},"Sign In")," and authenticate with GitHub to login or register a new account."),(0,r.kt)("p",null,"From the Supabase dashboard, click ",(0,r.kt)("inlineCode",{parentName:"p"},"New project")," and select an organization."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: You may need to create an organization first.")),(0,r.kt)("p",null,"Give your project a ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"password"),", select a ",(0,r.kt)("inlineCode",{parentName:"p"},"region")," close to your potential users and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Create new project"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Create a Supabase project",src:n(32746).Z,width:"1382",height:"1158"})),(0,r.kt)("p",null,"Supabase will take a couple of minutes to configure the infrastructure."),(0,r.kt)("p",null,"Once this is finished, navigate to ",(0,r.kt)("inlineCode",{parentName:"p"},"SQL Editor")," from the sidebar menu and click ",(0,r.kt)("inlineCode",{parentName:"p"},"New query"),"."),(0,r.kt)("p",null,'This will create a new SQL snippet called "New Query". Copy and paste the following and click ',(0,r.kt)("inlineCode",{parentName:"p"},"Run"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"create table todos (\n  id bigint generated by default as identity primary key,\n  title text,\n  is_complete boolean default false,\n  created_at timestamp with time zone default timezone('utc'::text, now()) not null\n);\n\nalter table todos enable row level security;\n\ncreate policy \"Anyone can view todos\" on todos for\n    select using (true);\n\ncreate policy \"Anyone can add new todos\" on todos for\n    insert with check (true);\n\ninsert into todos(title)\nvalues\n  ('Create Supabase project'),\n  ('Create Vercel project'),\n  ('Install Supabase integration');\n")),(0,r.kt)("p",null,"This will create a new todos table, enable row level security, add policies for selecting and inserting data, and add some example rows."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: To simplify this example, we are allowing anyone to ",(0,r.kt)("inlineCode",{parentName:"p"},"select")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"insert")," rows on the ",(0,r.kt)("inlineCode",{parentName:"p"},"todos")," table. Usually, these actions would be locked down to only allow logged in users to perform them. Check out ",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=Ow_Uzedfohk"},"this video")," to learn more about Row Level Security and policies.")),(0,r.kt)("h2",{id:"step-2-create-vercel-project"},"Step 2: Create Vercel project"),(0,r.kt)("p",null,"From your ",(0,r.kt)("a",{parentName:"p",href:"https://vercel.com/dashboard"},"Vercel dashboard"),", click ",(0,r.kt)("inlineCode",{parentName:"p"},"New Project"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Create new Vercel project",src:n(50869).Z,width:"2032",height:"1246"})),(0,r.kt)("p",null,"Under the ",(0,r.kt)("inlineCode",{parentName:"p"},"Clone Template")," menu, click ",(0,r.kt)("inlineCode",{parentName:"p"},"Next.js"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Clone Next.js template",src:n(46603).Z,width:"2074",height:"1670"})),(0,r.kt)("p",null,"In the ",(0,r.kt)("inlineCode",{parentName:"p"},"Create Git Repository")," section, click ",(0,r.kt)("inlineCode",{parentName:"p"},"GitHub"),", select your username under ",(0,r.kt)("inlineCode",{parentName:"p"},"GIT SCOPE"),", enter a name for your project, choose whether you want your repo ",(0,r.kt)("inlineCode",{parentName:"p"},"private")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"public"),", and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Create"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"New GitHub repo settings",src:n(66418).Z,width:"1300",height:"688"})),(0,r.kt)("p",null,"This will create a new GitHub repository, clone and commit the Next.js starter project, then build and deploy your new project to Vercel."),(0,r.kt)("p",null,"Once you have been redirected to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Congratulations")," screen, click ",(0,r.kt)("inlineCode",{parentName:"p"},"Go to Dashboard"),"."),(0,r.kt)("p",null,"Navigate to ",(0,r.kt)("inlineCode",{parentName:"p"},"Settings"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Integrations"),", then click ",(0,r.kt)("inlineCode",{parentName:"p"},"Browse Marketplace"),"."),(0,r.kt)("p",null,"Search for ",(0,r.kt)("inlineCode",{parentName:"p"},"Supabase")," and click the Supabase integration."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Supabase integration",src:n(58660).Z,width:"1972",height:"1214"})),(0,r.kt)("p",null,"Click ",(0,r.kt)("inlineCode",{parentName:"p"},"Add Integration"),". Select your account from the ",(0,r.kt)("inlineCode",{parentName:"p"},"Vercel Scope")," dropdown, and click ",(0,r.kt)("inlineCode",{parentName:"p"},"CONTINUE"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Choose scope",src:n(28761).Z,width:"964",height:"778"})),(0,r.kt)("p",null,"Choose ",(0,r.kt)("inlineCode",{parentName:"p"},"Specific Projects")," and select your new Vercel project from the dropdown, and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Add Integration"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Choose project",src:n(31535).Z,width:"962",height:"984"})),(0,r.kt)("p",null,"From the Supabase popup, select your new Vercel Project and Supabase project from the dropdowns."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Supabase integration",src:n(1410).Z,width:"1600",height:"1338"})),(0,r.kt)("h2",{id:"step-3-clone-github-repo"},"Step 3: Clone GitHub repo"),(0,r.kt)("p",null,"The fastest way to get this project running locally is to clone the repo that Vercel created for us."),(0,r.kt)("p",null,"Navigate back to the Vercel project ",(0,r.kt)("inlineCode",{parentName:"p"},"Overview")," page, and click ",(0,r.kt)("inlineCode",{parentName:"p"},"View Git Repository"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Vercel Project Dashboard",src:n(75278).Z,width:"2116",height:"774"})),(0,r.kt)("p",null,"This will open the GitHub repo. From here, click the arrow next to ",(0,r.kt)("inlineCode",{parentName:"p"},"Code")," and copy the url from the dropdown."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"GitHub repo url",src:n(55084).Z,width:"2508",height:"1304"})),(0,r.kt)("p",null,"Open a terminal window or CLI and run the following command to clone the GitHub repo."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone your-repo-url.git\n")),(0,r.kt)("p",null,"Open the project in your code editor of choice, and update the contents of ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/index.js")," to the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import styles from '../styles/Home.module.css'\n\nexport default function Home() {\n  return <div className={styles.container}>working</div>\n}\n")),(0,r.kt)("p",null,"Run a local development server."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm run dev\n")),(0,r.kt)("p",null,"Navigate to ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:3000"),' to confirm the project is "working".'),(0,r.kt)("h2",{id:"step-4-pull-environment-variables-from-vercel"},"Step 4: Pull environment variables from Vercel"),(0,r.kt)("p",null,"First, we need to login to Vercel using their CLI tool."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx vercel login\n")),(0,r.kt)("p",null,"This will ask if we are happy to install ",(0,r.kt)("inlineCode",{parentName:"p"},"vercel"),". Type ",(0,r.kt)("inlineCode",{parentName:"p"},"y")," and hit ",(0,r.kt)("inlineCode",{parentName:"p"},"Enter"),"."),(0,r.kt)("p",null,"We will then need to authenticate Vercel by selecting ",(0,r.kt)("inlineCode",{parentName:"p"},"Continue with GitHub"),"."),(0,r.kt)("p",null,"This will open a browser window where you need to authenticate with your GitHub account."),(0,r.kt)("p",null,"Next, we need to link our Vercel project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx vercel link\n")),(0,r.kt)("p",null,"Step through the prompts to link the Vercel project."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Link project from Vercel",src:n(5740).Z,width:"1188",height:"268"})),(0,r.kt)("p",null,"Copy the environment variables from our Vercel project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx vercel env pull\n")),(0,r.kt)("p",null,"This will create a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file containing our Supabase environment variables. Rename this file to ",(0,r.kt)("inlineCode",{parentName:"p"},".env.local")," to automatically ignore it from git."),(0,r.kt)("h2",{id:"step-5-install-supabasejs"},"Step 5: Install Supabase.js"),(0,r.kt)("p",null,"Install the ",(0,r.kt)("inlineCode",{parentName:"p"},"supabase-js")," library."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @supabase/supabase-js\n")),(0,r.kt)("p",null,"Create a new file called ",(0,r.kt)("inlineCode",{parentName:"p"},"/utils/supabase.js")," and add the following."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { createClient } from '@supabase/supabase-js'\n\nexport default createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n)\n")),(0,r.kt)("p",null,"Create a new file called ",(0,r.kt)("inlineCode",{parentName:"p"},"/components/NewTodo.js")," and add the following."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useState } from 'react'\nimport supabase from '../utils/supabase'\n\nexport default ({ reload }) => {\n  const [title, setTitle] = useState('')\n\n  const addTodo = async (e) => {\n    e.preventDefault()\n    await supabase.from('todos').insert({ title })\n    reload()\n    setTitle('')\n  }\n\n  return (\n    <form onSubmit={addTodo}>\n      <input value={title} onChange={(e) => setTitle(e.target.value)} />\n    </form>\n  )\n}\n")),(0,r.kt)("p",null,"This component will be responsible for writing a new ",(0,r.kt)("inlineCode",{parentName:"p"},"todo")," to Supabase."),(0,r.kt)("p",null,"Let's import our new component in ",(0,r.kt)("inlineCode",{parentName:"p"},"pages/index.js")," and display a list of todos."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useState, useEffect } from 'react'\nimport styles from '../styles/Home.module.css'\nimport supabase from '../utils/supabase'\nimport NewTodo from '../components/NewTodo'\n\nexport default function Home() {\n  const [todos, setTodos] = useState([])\n\n  const fetchTodos = async () => {\n    const { data } = await supabase.from('todos').select('*')\n    setTodos(data)\n  }\n\n  useEffect(() => {\n    fetchTodos()\n  }, [])\n\n  return (\n    <div className={styles.container}>\n      <NewTodo reload={fetchTodos} />\n      {todos.map((todo) => (\n        <p key={todo.id}>{todo.title}</p>\n      ))}\n    </div>\n  )\n}\n")),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vercel.com"},"Vercel official website"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vercel.com/blog"},"Vercel blog"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vercel.com/docs"},"Vercel docs"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vercel.com/docs/integrations"},"Vercel Integration docs"))))}u.isMDXComponent=!0},31535:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/choose-project-660ed54715f8601aa9f5c31f8430058f.png"},28761:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/choose-scope-a070e348d0925c3957d13b0a55a0329f.png"},46603:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/clone-next-js-template-7b9fc01b0c4cda6ee59e7009fadbc607.png"},32746:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/create-supabase-project-44f05bedb42a9de746a2069fabc0da63.png"},50869:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/create-vercel-project-93a4760c0dc1b2d9e28581d7d1d50cda.png"},55084:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/github-project-url-f99d0e707c963d47a2b855e878b5b120.png"},1410:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/link-vercel-to-supabase-f14d68fe0f32a2fd167cc4d431cb930f.png"},66418:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/repo-settings-c5cc2a3452ecd1f1b078fe26e630108d.png"},58660:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/supabase-integration-d538b0dd94dee4f222b77834c9ff4164.png"},5740:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/vercel-link-361f9bcf9c4b9578ba5ed36881d7c7a1.png"},75278:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/vercel-project-dashboard-bc712ac503e0ee0a124822de469b6f92.png"}}]);
"use strict";(self.webpackChunkreference_docs=self.webpackChunkreference_docs||[]).push([[91625],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>f});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),u=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(o.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,o=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(a),m=r,f=p["".concat(o,".").concat(m)]||p[m]||d[m]||s;return a?n.createElement(f,l(l({ref:t},c),{},{components:a})):n.createElement(f,l({ref:t},c))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,l=new Array(s);l[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[p]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<s;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},85727:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));a(65488),a(85162);const s={id:"select",title:"Fetch data: select()",slug:"/select",custom_edit_url:"https://github.com/supabase/supabase/edit/master/spec/supabase_dart_v0.yml"},l=void 0,i={unversionedId:"generated/select",id:"version-v0/generated/select",title:"Fetch data: select()",description:"Performs vertical filtering with SELECT.",source:"@site/_supabase_dart_versioned_docs/version-v0/generated/select.mdx",sourceDirName:"generated",slug:"/select",permalink:"/docs/reference/dart/v0/select",draft:!1,editUrl:"https://github.com/supabase/supabase/edit/master/spec/supabase_dart_v0.yml",tags:[],version:"v0",frontMatter:{id:"select",title:"Fetch data: select()",slug:"/select",custom_edit_url:"https://github.com/supabase/supabase/edit/master/spec/supabase_dart_v0.yml"},sidebar:"sidebar",previous:{title:"invoke()",permalink:"/docs/reference/dart/v0/invoke"},next:{title:"Create data: insert()",permalink:"/docs/reference/dart/v0/insert"}},o={},u=[{value:"Notes",id:"notes",level:2},{value:"Examples",id:"examples",level:2},{value:"Getting your data",id:"getting-your-data",level:3},{value:"Selecting specific columns",id:"selecting-specific-columns",level:3},{value:"Query foreign tables",id:"query-foreign-tables",level:3},{value:"Query the same foreign table multiple times",id:"query-the-same-foreign-table-multiple-times",level:3},{value:"Filtering with inner joins",id:"filtering-with-inner-joins",level:3},{value:"Querying with count option",id:"querying-with-count-option",level:3},{value:"Querying JSON data",id:"querying-json-data",level:3},{value:"Return data as CSV",id:"return-data-as-csv",level:3}],c={toc:u};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Performs vertical filtering with SELECT."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('cities')\n  .select()\n  .execute();\n\nfinal data = res.data;\nfinal error = res.error;\n")),(0,r.kt)("h2",{id:"notes"},"Notes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"By default, Supabase projects will return a maximum of 1,000 rows. This setting can be changed in Project API Settings. It's recommended that you keep it low to limit the payload size of accidental or malicious requests. You can use ",(0,r.kt)("inlineCode",{parentName:"li"},"range()")," queries to paginate through your data."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"select()")," can be combined with ",(0,r.kt)("a",{parentName:"li",href:"/docs/reference/dart/using-modifiers"},"Modifiers")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"select()")," can be combined with ",(0,r.kt)("a",{parentName:"li",href:"/docs/reference/dart/using-filters"},"Filters")),(0,r.kt)("li",{parentName:"ul"},"If using the Supabase hosted platform ",(0,r.kt)("inlineCode",{parentName:"li"},"apikey")," is technically a reserved keyword, since the API gateway will pluck it out for authentication. ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/supabase/supabase/issues/5465"},"It should be avoided as a column name"),".")),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("h3",{id:"getting-your-data"},"Getting your data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('cities')\n  .select()\n  .execute();\n\nfinal data = res.data;\nfinal error = res.error;\n")),(0,r.kt)("h3",{id:"selecting-specific-columns"},"Selecting specific columns"),(0,r.kt)("p",null,"You can select specific fields from your tables."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('cities')\n  .select('name')\n  .execute();\n")),(0,r.kt)("h3",{id:"query-foreign-tables"},"Query foreign tables"),(0,r.kt)("p",null,"If your database has relationships, you can query related tables too."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('countries')\n  .select('''\n    name,\n    cities (\n      name\n    )\n  ''')\n  .execute();\n")),(0,r.kt)("h3",{id:"query-the-same-foreign-table-multiple-times"},"Query the same foreign table multiple times"),(0,r.kt)("p",null,"Sometimes you will need to query the same foreign table twice.\nIn this case, you can use the name of the joined column to identify\nwhich join you intend to use. For convenience, you can also give an\nalias for each column. For example, if we had a shop of products,\nand we wanted to get the supplier and the purchaser at the same time\n(both in the users) table:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('products')\n  .select('''\n    id,\n    supplier:supplier_id ( name ),\n    purchaser:purchaser_id ( name )\n  ''')\n  .execute();\n")),(0,r.kt)("h3",{id:"filtering-with-inner-joins"},"Filtering with inner joins"),(0,r.kt)("p",null,"If you want to filter a table based on a child table's values you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"!inner()")," function. For example, if you wanted\nto select all rows in a ",(0,r.kt)("inlineCode",{parentName:"p"},"message")," table which belong to a user with the ",(0,r.kt)("inlineCode",{parentName:"p"},"username"),' "Jane":'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('messages')\n  .select('*, users!inner(*)')\n  .eq('users.username', 'Jane')\n  .execute();\n")),(0,r.kt)("h3",{id:"querying-with-count-option"},"Querying with count option"),(0,r.kt)("p",null,"You can get the number of rows by using the count option.\nAllowed values for count option are ",(0,r.kt)("a",{parentName:"p",href:"https://postgrest.org/en/stable/api.html#exact-count"},"exact"),", ",(0,r.kt)("a",{parentName:"p",href:"https://postgrest.org/en/stable/api.html#planned-count"},"planned")," and ",(0,r.kt)("a",{parentName:"p",href:"https://postgrest.org/en/stable/api.html#estimated-count"},"estimated"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n    .from('cities')\n    .select('name')\n    .execute(count: CountOption.exact);\n\nfinal count = res.count;\n")),(0,r.kt)("h3",{id:"querying-json-data"},"Querying JSON data"),(0,r.kt)("p",null,"If you have data inside of a JSONB column, you can apply select\nand query filters to the data values. Postgres offers a\n",(0,r.kt)("a",{parentName:"p",href:"https://www.postgresql.org/docs/current/functions-json.html"},"number of operators"),"\nfor querying JSON data. Also see\n",(0,r.kt)("a",{parentName:"p",href:"http://postgrest.org/en/v7.0.0/api.html#json-columns"},"PostgREST docs")," for more details."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('users')\n  .select('''\n    id, name,\n    address->street\n  ''')\n  .eq('address->postcode', 90210)\n  .execute();\n")),(0,r.kt)("h3",{id:"return-data-as-csv"},"Return data as CSV"),(0,r.kt)("p",null,"By default the data is returned in JSON format, however you can also request for it to be returned as Comma Separated Values."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"final res = await supabase\n  .from('users')\n  .select()\n  .csv()\n  .execute();\n")))}p.isMDXComponent=!0},85162:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(67294),r=a(86010);const s="tabItem_Ymn6";function l(e){let{children:t,hidden:a,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(s,l),hidden:a},t)}},65488:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(87462),r=a(67294),s=a(86010),l=a(72389),i=a(67392),o=a(7094),u=a(12466);const c="tabList__CuJ",p="tabItem_LNqP";function d(e){const{lazy:t,block:a,defaultValue:l,values:d,groupId:m,className:f}=e,h=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=d??h.map((e=>{let{props:{value:t,label:a,attributes:n}}=e;return{value:t,label:a,attributes:n}})),g=(0,i.l)(b,((e,t)=>e.value===t.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const v=null===l?l:l??h.find((e=>e.props.default))?.props.value??h[0].props.value;if(null!==v&&!b.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:y,setTabGroupChoices:k}=(0,o.U)(),[w,N]=(0,r.useState)(v),O=[],{blockElementScrollPositionUntilNextRender:x}=(0,u.o5)();if(null!=m){const e=y[m];null!=e&&e!==w&&b.some((t=>t.value===e))&&N(e)}const E=e=>{const t=e.currentTarget,a=O.indexOf(t),n=b[a].value;n!==w&&(x(t),N(n),null!=m&&k(m,String(n)))},j=e=>{let t=null;switch(e.key){case"Enter":E(e);break;case"ArrowRight":{const a=O.indexOf(e.currentTarget)+1;t=O[a]??O[0];break}case"ArrowLeft":{const a=O.indexOf(e.currentTarget)-1;t=O[a]??O[O.length-1];break}}t?.focus()};return r.createElement("div",{className:(0,s.Z)("tabs-container",c)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":a},f)},b.map((e=>{let{value:t,label:a,attributes:l}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>O.push(e),onKeyDown:j,onClick:E},l,{className:(0,s.Z)("tabs__item",p,l?.className,{"tabs__item--active":w===t})}),a??t)}))),t?(0,r.cloneElement)(h.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,l.Z)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}}}]);
"use strict";(self.webpackChunkreference_docs=self.webpackChunkreference_docs||[]).push([[25718],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,m=d["".concat(l,".").concat(u)]||d[u]||h[u]||s;return n?i.createElement(m,o(o({ref:t},c),{},{components:n})):i.createElement(m,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=u;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[d]="string"==typeof e?e:a,o[1]=r;for(var p=2;p<s;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},35920:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>p});var i=n(87462),a=(n(67294),n(3905));const s={id:"issue-api-calls",title:"Issue API Calls to Dijets Node",description:"An HTTP Client for PostgreSQL Functions."},o="Issuing API Calls",r={unversionedId:"guides/registration/issue-api-calls",id:"guides/registration/issue-api-calls",title:"Issue API Calls to Dijets Node",description:"An HTTP Client for PostgreSQL Functions.",source:"@site/docs/guides/registration/issue-api-calls.mdx",sourceDirName:"guides/registration",slug:"/guides/registration/issue-api-calls",permalink:"/docs/guides/registration/issue-api-calls",draft:!1,editUrl:"https://github.com/docs/guides/registration/issue-api-calls.mdx",tags:[],version:"current",frontMatter:{id:"issue-api-calls",title:"Issue API Calls to Dijets Node",description:"An HTTP Client for PostgreSQL Functions."},sidebar:"guides",previous:{title:"Council Membership",permalink:"/docs/guides/registration"},next:{title:"Generate a Singleton Wallet",permalink:"/docs/guides/registration/singleton"}},l={},p=[{value:"Endpoints",id:"endpoints",level:2},{value:"Base URL",id:"base-url",level:3},{value:"Primary Dijets Network and Child Chain RPC calls",id:"primary-dijets-network-and-child-chain-rpc-calls",level:2},{value:"Primary Dijets Network Endpoints",id:"primary-dijets-network-endpoints",level:3},{value:"Utility Chain and EVM-specific Endpoints",id:"utility-chain-and-evm-specific-endpoints",level:3},{value:"JSON-RPC EVM Endpoints",id:"json-rpc-evm-endpoints",level:4},{value:"Websocket EVM Endpoints",id:"websocket-evm-endpoints",level:4},{value:"Breakdown of a JSON RPC Request",id:"breakdown-of-a-json-rpc-request",level:2},{value:"JSON RPC Success Response",id:"json-rpc-success-response",level:3},{value:"JSON RPC Error Response",id:"json-rpc-error-response",level:3}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"issuing-api-calls"},"Issuing API Calls"),(0,a.kt)("p",null,"This reference doc explains how to make calls to APIs exposed by Dijets Network nodes."),(0,a.kt)("h2",{id:"endpoints"},"Endpoints"),(0,a.kt)("p",null,"An API call is always made to an:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"endpoint")," which essentially is just another word for a URL."),(0,a.kt)("p",null,"The main difference between the common URLs and an endpoint URL is in its composition."),(0,a.kt)("p",null,"An Endpoint is mainly made up of:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"base URI")," which is the address of the server system host"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"port")," which is the port number exposed on the address; and lastly"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"path")," which is the absolute path address on the host serving the endpoint URL"),(0,a.kt)("h3",{id:"base-url"},"Base URL"),(0,a.kt)("p",null,"The base of the URL is always:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[server-ip] / [node-ip]:[http-port]")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"node-ip")," is the IP address of the node the call is made to."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"http-port")," is the port the node listens on for HTTP calls. ")),(0,a.kt)("p",null,"All Dijets Nodes listen to port: 9650 by default."),(0,a.kt)("p",null,"For example, if you're making RPC calls on a locally running node, the base URL might look something like this: ",(0,a.kt)("inlineCode",{parentName:"p"},"127.0.0.1:9650"),"."),(0,a.kt)("p",null,"If you're making RPC calls to remote cloud based nodes, then instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," you\nshould use the public IP of the server where the node is."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Dijets Node will only accept API calls on the local interface by default. You can override this default setting by\nspecifying ",(0,a.kt)("inlineCode",{parentName:"p"},"http-host")," flag when starting Dijets Node")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Do not leave the\n",(0,a.kt)("inlineCode",{parentName:"p"},"http-port")," accessible to everyone! Malicious actors will often scan for\nnodes that have unrestricted access to their RPC port so they can spam them with resource-intensive queries\nforcing the network to go offline.")),(0,a.kt)("h2",{id:"primary-dijets-network-and-child-chain-rpc-calls"},"Primary Dijets Network and Child Chain RPC calls"),(0,a.kt)("p",null,"Besides the local primary APIs, the Dijets node will\nalso expose endpoints to establish communication with specific chains that are either part of\nthe Main Dijets Network i.e Value, Utility and Method Chains, or part of any Child Chains or Enterprise Consortia chains that the node\nmight also be validating or synchronising with."),(0,a.kt)("p",null,"In general, such endpoints are always formatted as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/[blockhainID]\n")),(0,a.kt)("h3",{id:"primary-dijets-network-endpoints"},"Primary Dijets Network Endpoints"),(0,a.kt)("p",null,"The Primary Network consists of the Value, Utility & Method Chain. These three chains are omnipresent in all Dijets Nodes hence they can\neasily be defined using an alias instead of the long chain ID that each blockchain gets assigned upon its creation.\nUsing these aliases the three main chains of Dijets Network have the following endpoints:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/X for Value Chain\nhttp://127.0.0.1:9650/ext/bc/P for Method Chain\nhttp://127.0.0.1:9650/ext/bc/C for Utility Chain\n")),(0,a.kt)("h3",{id:"utility-chain-and-evm-specific-endpoints"},"Utility Chain and EVM-specific Endpoints"),(0,a.kt)("p",null,"Dijets Utility Chain exposes its\nown set of endpoints, accessible with JSON-RPC, and Websocket."),(0,a.kt)("h4",{id:"json-rpc-evm-endpoints"},"JSON-RPC EVM Endpoints"),(0,a.kt)("p",null,"To interact with Dijets Utility Chain via the JSON-RPC use the endpoint:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/ext/bc/C/rpc\n")),(0,a.kt)("p",null,"Businesses or Organisations running an Enterprise Consortia chain on Dijets can access their instance of the EVM via the JSON-RPC endpoint:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/[blockchainID]/rpc\n")),(0,a.kt)("p",null,"where ",(0,a.kt)("inlineCode",{parentName:"p"},"blockchainID")," is the ID of the blockchain running the EVM."),(0,a.kt)("h4",{id:"websocket-evm-endpoints"},"Websocket EVM Endpoints"),(0,a.kt)("p",null,"To interact with Dijets Utility Chain via the websocket endpoint, use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/C/ws\n")),(0,a.kt)("p",null,"To interact with other instances of the EVM via the websocket endpoint:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"http://127.0.0.1:9650/ext/bc/blockchainID/ws\n")),(0,a.kt)("p",null,"where ",(0,a.kt)("inlineCode",{parentName:"p"},"blockchainID")," is the ID of the respective blockchain. For example,\nto interact with Dijets Utility Chain's Ethereum APIs via websocket you can\nuse:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"ws://127.0.0.1:9650/ext/bc/C/ws\n")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Use ",(0,a.kt)("inlineCode",{parentName:"p"},"https://")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"wss://")," instead of ",(0,a.kt)("inlineCode",{parentName:"p"},"http://")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"ws://")," when making calls to Dijets Public API server.")),(0,a.kt)("h2",{id:"breakdown-of-a-json-rpc-request"},"Breakdown of a JSON RPC Request"),(0,a.kt)("p",null,"Most of Dijets Node APIs use the standard ",(0,a.kt)("a",{parentName:"p",href:"https://www.jsonrpc.org/specification"},"JSON RPC\n2.0")," format for making its requests\nand responses. Here's a breakdown of a JSON RPC request"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"jsonrpc")," specifies the version of the JSON RPC protocol. (In practice is always 2.0)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"method")," specifies the service and method that we want to invoke."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"params")," specifies the arguments to the method."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"id")," is the ID of this request. Request IDs should be unique.")),(0,a.kt)("h3",{id:"json-rpc-success-response"},"JSON RPC Success Response"),(0,a.kt)("p",null,"Each successfully made request call - whether it's made to a locally or remotely running Dijets Node or its Public Server API - will look like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "jsonrpc": "2.0",\n  "result": {\n    "Status": "Accepted"\n  },\n  "id": 1\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"id")," is the ID of the request that this response corresponds to."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"result")," is the returned values.")),(0,a.kt)("h3",{id:"json-rpc-error-response"},"JSON RPC Error Response"),(0,a.kt)("p",null,"If the API method invoked returns an error then the response will have a field\n",(0,a.kt)("inlineCode",{parentName:"p"},"error")," in place of ",(0,a.kt)("inlineCode",{parentName:"p"},"result"),". Additionally, there is an extra field, ",(0,a.kt)("inlineCode",{parentName:"p"},"data"),",\nwhich holds additional information about the error that occurred."),(0,a.kt)("p",null,"Such a response would look like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "error": {\n        "code": -32600,\n        "message": "[The error message goes here]",\n        "data": [Any additional information about the error goes into this object]\n    },\n    "id": 1\n}\n')),(0,a.kt)("p",null,"Now that you have learnt how to make API Calls to a Dijets Node, lets go ahead and make a few calls to generate a singleton wallet which is one of the requirements for Dijets Council Membership."))}d.isMDXComponent=!0}}]);
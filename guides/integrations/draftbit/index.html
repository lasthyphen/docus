<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/integrations/draftbit">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Draftbit | Dijets Council Hub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://127.0.0.1/docs/guides/integrations/draftbit"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Draftbit | Dijets Council Hub"><meta data-rh="true" name="description" content="Connect your Supabase postgres database to your Low-code mobile app."><meta data-rh="true" property="og:description" content="Connect your Supabase postgres database to your Low-code mobile app."><link data-rh="true" rel="icon" href="/docs/favicon.ico"><link data-rh="true" rel="canonical" href="http://127.0.0.1/docs/guides/integrations/draftbit"><link data-rh="true" rel="alternate" href="http://127.0.0.1/docs/guides/integrations/draftbit" hreflang="en"><link data-rh="true" rel="alternate" href="http://127.0.0.1/docs/guides/integrations/draftbit" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Dijets Council Hub" href="/docs/opensearch.xml">
<script src="/docs/scripts/telemetry.js"></script><link rel="stylesheet" href="/docs/assets/css/styles.13ffe8e7.css">
<link rel="preload" href="/docs/assets/js/runtime~main.23337c97.js" as="script">
<link rel="preload" href="/docs/assets/js/main.57ad0143.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://council.dijets.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/supabase-logo-wordmark--light.svg" alt="Dijets Council Docs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/supabase-logo-wordmark--dark.svg" alt="Dijets Council Docs" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/">Guides</a><a class="navbar__item navbar__link" href="/docs/reference">Reference Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://dips.dijets.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DIPs Directory</a><a href="https://github.com/Dijets-Inc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-github"></a><a href="https://qowalts.dijets.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-discord"></a><a href="https://twitter.com/OfficialDijets" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-twitter"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Draftbit</h1></header><p>This guide explains how to connect a Supabase back-end to a Draftbit front-end and then configure all CRUD operations necessary to build a simple mobile app.</p><p><a href="https://draftb.it/3Fkbask" target="_blank" rel="noopener noreferrer">Draftbit</a> is a &quot;pro-code&quot; low-code mobile app building platform. Draftbit exports React Native source code that is 100% run on open-source languages and libraries.</p><p>Draftbit is back-end agnostic and connects to Supabase via REST API.</p><blockquote><p>Note: For the demonstration purpose of this guide, we are using a pre-populated database in Supabase. We are calling <code>Groceries</code>. To follow along, rename it any way you prefer.</p></blockquote><p><img loading="lazy" alt="Prepopulated Database" src="/docs/assets/images/prepopulated-database-4e280135317b067333db5b435179f671.png" width="2328" height="534" class="img_ev3q"></p><p>If you don’t have a Draftbit account, create one <a href="https://draftb.it/3Fkbask" target="_blank" rel="noopener noreferrer">here</a>. Once you’ve got your account set up, Create a New App. You can select <code>Start From a Blank App</code> for this demo and proceed to the Builder interface.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-get-the-restful-endpoint-and-project-api-key">Step 1: Get the RESTful endpoint and Project API key<a class="hash-link" href="#step-1-get-the-restful-endpoint-and-project-api-key" title="Direct link to heading">​</a></h2><p>To connect the REST API in the Draftbit app, the following fields are required:</p><ul><li>Base URL of the REST API, which is in the format: <code>https://&lt;your-domain&gt;.supabase.co/rest/v1</code> where the <code>&lt;your-domain</code> is a unique domain name generated by Supabase.</li><li>The <code>supabase-key</code> is the secret key.</li></ul><p>You can find these unique values in the API settings of your Supabase account.</p><ul><li>Click the Settings button from the top menu bar.</li><li>In Settings, select <strong>API</strong>.</li><li>In the <strong>Project URL</strong> section, select and copy the URL. It is the Base URL of your Supabase REST API. It will be required to make a connection to the Draftbit app.</li><li>Also, under <code>Project API keys</code>, select and copy the API key under <code>anon</code>. It is required for every request made to the Supabase database.</li></ul><p><img loading="lazy" alt="Get Supabase connection string" src="/docs/assets/images/endpoint-ba595e5d415bfb311280c8ca095283fc.png" width="2422" height="1332" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-save-supabase-api-key-as-authorization-header-in-draftbit">Step 2: Save Supabase API key as Authorization Header in Draftbit<a class="hash-link" href="#step-2-save-supabase-api-key-as-authorization-header-in-draftbit" title="Direct link to heading">​</a></h2><p>To authorize your Draftbit app with Supabse, in the builder interface:</p><ul><li>Open the <strong>Settings</strong> tab from the top menu bar.</li><li>In Project Settings, navigate to App Variables.</li><li>Enter a name to access the API Key such as <code>Authorization_Header</code>. When making the service connection in the next section, it will be passed as the value for the header <code>Authorization</code>.</li><li>The value of this key requires you to enter an authorization token that starts with syntax <code>Bearer &lt;your-api-key&gt;</code> (the space between <code>Bearer</code> and <code>&lt;your-api-key&gt;</code> is required). Click <strong>Add</strong> after adding the value.</li><li>Enter another key name to access the API Key such as <code>Api_Key_Header</code>. When making the service connection in the next section, it will be passed as the header <code>apiKey</code> value.</li><li>The value of this key requires you to enter an authorization token that starts with syntax is <code>&lt;your-api-key&gt;</code>. Click <strong>Add</strong> after adding the value.</li><li>Click <strong>Save</strong> to save these keys and close the modal.</li></ul><p><img loading="lazy" alt="Add header values in Draftbit" src="/docs/assets/images/authheader-8a0e28c5ffe3f0916cac7a948ef9eeb1.png" width="1596" height="1198" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-add-supabase-restful-endpoint-in-draftbit">Step 3: Add Supabase RESTful endpoint in Draftbit<a class="hash-link" href="#step-3-add-supabase-restful-endpoint-in-draftbit" title="Direct link to heading">​</a></h2><p>In your Draftbit builder interface:</p><ul><li><p>Open the <strong>API &amp; Cloud Services</strong> modal from the top menu bar.</p></li><li><p>From the <strong>Connect a service</strong> menu, click on <strong>Rest API</strong>.</p></li><li><p>In Step 1: Enter a name for your REST API. Then, paste your <code>Base URL</code> (from the first section) into the Base URL field.</p></li><li><p>In Step 2: Under <strong>Key</strong> add <code>Authorization</code> and <code>apikey</code>. Then, under <strong>Value</strong>, select the global variables (from the previous section) to add the actual values for both keys.</p></li><li><p>Click Save.</p></li></ul><p><img loading="lazy" alt="Create a API service in Draftbit" src="/docs/assets/images/service-41cda4b8b1c9e3cf5e6783ca49ccb807.png" width="2590" height="1428" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-api-requests-with-supabase--draftbit">Making API requests with Supabase &amp; Draftbit<a class="hash-link" href="#making-api-requests-with-supabase--draftbit" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-request-to-fetch-all-records">GET request to Fetch all records<a class="hash-link" href="#get-request-to-fetch-all-records" title="Direct link to heading">​</a></h3><p>In this section, let&#x27;s populate a Fetch component with all the data from a simple Supabase and then display the data fetched from the Supabase data table in a List component.</p><p>For reference, here is a how the Components tree looks like for this screen:</p><p><img loading="lazy" alt="Components tree" src="/docs/assets/images/ctree-ca33dd16d788a5f53ea500dcad0809b4.png" width="320" height="382" class="img_ev3q"></p><p>The next step is to create an endpoint. Let&#x27;s try fetching all the data using a <code>GET</code> HTTP request. Select the Supabase service in the <strong>API &amp; Cloud Services</strong> modal, and then:</p><ul><li>Click <strong>Add endpoint</strong>.</li><li>In Step 1: enter the name for the endpoint. Make sure the <strong>Method</strong> select is <code>GET</code>.</li><li>In Step 2: add the base name path: <code>/groceries/select=*</code>, where <code>groceries</code> is the table name in Supabase.</li><li>In Step 4: click the <strong>Test</strong> button next to the Endpoint input to verify the response coming from the Supabase.</li><li>Click Save.</li></ul><p><img loading="lazy" alt="Creating a GET request endpoint" src="/docs/assets/images/get-request-e489a9f285f614ee65f65cc7b48fdba0.gif" width="1289" height="705" class="img_ev3q"></p><p>In the Builder, on the app screen:</p><ul><li>Select the Fetch component in the Components tree and go to the <a href="doc:introduction-to-the-builder#properties-panel" target="_blank" rel="noopener noreferrer">Data tab from Properties Panel</a>.</li><li>For <strong>Service</strong>, select the name of the Supabase Service.</li><li>For <strong>Endpoint</strong>, select the endpoint you want to fetch the data from.</li><li>Select the List component in the Components and go to the <a href="doc:introduction-to-the-builder#properties-panel" target="_blank" rel="noopener noreferrer">Data tab from Properties Panel</a>. In Data, select <code>Top-Level Response</code> from the dropdown menu.</li><li>Then, select the Text component in the Components and then go to the Data tab from the Properties Panel.</li><li>Add a <code>{{varName}}</code> value (inside the curly braces) to represent a column field from the Supabase. For example, add <code>{{title}}</code> to represent the column name from the Supabase Base.</li><li>Under <strong>Variables</strong>, you will see the variable name defined in the previous step. From the dropdown menu, select the appropriate field that represents the data field.</li></ul><p><img loading="lazy" alt="Fetching data on app screen" src="/docs/assets/images/fetchall-928cce85e1e9814526ec41495cebb66c.gif" width="1425" height="768" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-request-to-fetch-single-row">GET request to fetch single row<a class="hash-link" href="#get-request-to-fetch-single-row" title="Direct link to heading">​</a></h3><p>Open the <strong>API &amp; Cloud services</strong> modal from the top menu, select the Supabase service, and then:</p><ul><li>Click <strong>Add endpoint</strong>.</li><li>In Step 1: enter a name for the endpoint.</li><li>In Step 2: add the <code>/groceries/column-name=eq.{{column-name}}</code> variable. Then, add a Test value for the <code>{{column-name}}</code>. For example, it can be the <code>title</code> or the <code>id</code>.</li><li>In Step 4: click the <strong>Test</strong> button next to the Endpoint input to verify the response coming from the Supabase.</li><li>Click Save.</li></ul><p><img loading="lazy" alt="Creating endpoint to fetch a single row" src="/docs/assets/images/getsingle-a1de7b778c9a697553ac993efbe346af.gif" width="1289" height="703" class="img_ev3q"></p><p>On app screen:</p><ul><li>Select the Fetch component in the Components tree and go to the Data tab from Properties Panel</li><li>For <strong>Service</strong>, select the name of the Supabase Service.</li><li>For <strong>endpoint</strong>, select the endpoint you want to fetch the data from.</li><li>Set the value for the <code>id</code> in the Configuration &gt; URL Structure section to Navigation &gt; id.</li><li>Select the List component in the Components and go to the Data tab from Properties Panel. In Data, select <code>Top-Level Response</code> from the dropdown menu.</li><li>Then, select the Text component in the Components and then go to the Data tab from the Properties Panel.</li><li>Add a <code>{{varName}}</code> value (inside the curly braces) to represent the column field from the Supabase. For example, add <code>{{title}}</code> to represent the field and value from the Supabase data table.</li><li>Under <strong>Variables</strong>, you will see the variable name defined in the previous step. From the dropdown menu, select the appropriate field that represents the data field.</li></ul><p><img loading="lazy" alt="Displaying data from single row" src="/docs/assets/images/fetchsingle-cd69ace1b5f1f05a757028287d3cbe78.png" width="2880" height="1284" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-request-to-submit-a-new-row">POST request to submit a new row<a class="hash-link" href="#post-request-to-submit-a-new-row" title="Direct link to heading">​</a></h3><p>Submitting new Data from the Draftbit app to Supabase&#x27;s REST API requires the request to be sent using the HTTP <code>POST</code> method.</p><p>For this section, you need to use at least one component that accepts user input and has a Field Name prop to POST data using Supabase REST API.</p><p>You can use one of the following components in Draftbit:</p><ul><li>Text Input</li><li>Text Area/Text Field</li><li>Checkbox</li><li>Slider</li><li>Radio Button Group</li><li>Radio Button</li></ul><p>In addition, you need a Touchable component like a Button to attach the POST action. After you have created these components, we will create the <code>POST</code> endpoint:</p><ul><li>Click <strong>Add endpoint</strong>.</li><li>In Step 1: enter a name for the endpoint and select the Method to <code>POST</code>.</li><li>In Step 2: enter the base name as path: <code>/groceries</code>.</li><li>In Step 3: add a valid Body structure to submit a POST request. Add one or many <code>{{variable}}</code> for test values. Click Body Preview to validate the structure of the Body in the request. For the example, let&#x27;s create a variable called <code>{{inputValue}}</code>.</li><li>In Step 4: to see the new row added to the Supabase data table as JSON response inside the Builder, you have to pass a new header called <code>Prefer</code> with its value as <code>return=representation</code>.</li><li>In Step 5: click the <strong>Test</strong> button next to the Endpoint input to verify the response coming from the Supabase and click Save.</li></ul><p><img loading="lazy" alt="Make a POST request to add new data to Supabase database" src="/docs/assets/images/postrequest-8ce438d023c4c98b6262769669e142d5.gif" width="1289" height="703" class="img_ev3q"></p><p>Once you follow the above steps, you should get a 200 OK response with exactly the new record as a JSON you have entered for your schema.</p><p>An example of how Body in a request will look like:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain">inputValue</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where <code>title</code> is the column name in your Supabase database table.</p><p>In Draftbit, using a Touchable or a Button component, you can trigger the action <strong>API Request</strong> to submit the data to the endpoint.</p><p>Now, there is a working <code>POST</code> request in Draftbit. Map its response to the components on your screen in Draftbit.</p><p>First, for each input component, make sure you have set the Field Names (found in the Configs tab, second from the left) to unique values. For example, in the screen below, there is one TextInput field component with the value of the <code>Field Name</code> prop of <code>textInputValue</code>.</p><p><img loading="lazy" alt="Field Name prop on a TextInput component" src="/docs/assets/images/textinput-4066a5322894961ca18f315d63132733.png" width="350" height="246" class="img_ev3q"></p><p>Next, on your Button component, go to the Interactions tab in the Properties panel located on the far-right-hand side. Select an Action called <code>API request</code>.</p><p>In the API request action:</p><ul><li>In <strong>Service</strong>, select the name to Supabase API Service.</li><li>In <strong>Endpoint</strong>, select the name of the Endpoint.</li><li>Then add the configuration for the body request to be sent by selecting the values for <code>{{inputValue}}</code>.</li></ul><p><img loading="lazy" alt="Setting up the API Request to send a POST request" src="/docs/assets/images/postapirequest-829d0f8306ca9778b8b236d24cb571e2.png" width="2880" height="1148" class="img_ev3q"></p><p>After completing the above steps, you can trigger the API request to submit new data to the Supabase database.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patch-request-to-update-a-new-record">PATCH request to Update a new record<a class="hash-link" href="#patch-request-to-update-a-new-record" title="Direct link to heading">​</a></h3><p>Updating an existing record from the Draftbit app to Supabase&#x27;s REST API requires the request to be sent using the HTTP <code>PATCH</code> method.</p><p>After you have created your screen components in the Draftbit builder, open the Supabase service and make the <code>PATCH</code> endpoint:</p><ul><li>Click <strong>Add endpoint</strong>.</li><li>In Step 1: enter a name for the endpoint and select the Method to <code>PATCH</code>.</li><li>In Step 2: enter the base name as path: <code>/groceries?id=eq.{{id}}</code>, where <code>id</code> is the value of an existing record in the database.</li><li>In Step 3: add a valid Body structure to submit a PATCH request. Add one or many <code>{{variable}}</code> for test values depending on the structure of your app. Click Body Preview to validate the structure of the Body in the request. For the example, let&#x27;s create a variable called <code>{{inputValue}}</code>.</li><li>In Step 5: click the <strong>Test</strong> button next to the Endpoint input to verify the response coming from the Supabase and click Save.</li></ul><p><img loading="lazy" alt="Creating an endpoint for PATCH request" src="/docs/assets/images/patch-cb2fdc5dfe15db179d938c1f0cc04a20.gif" width="1291" height="703" class="img_ev3q"></p><p>Next, on your Button component, go to the Interactions tab in the Properties panel located on the far-right-hand side. Select an Action called <code>API request</code>.</p><p>In the API request action:</p><ul><li>In <strong>Service</strong>, select the name to Supabase API Service.</li><li>In <strong>Endpoint</strong>, select the name of the Endpoint.</li><li>Then add the configuration for the query param, and the body request to be sent by selecting the values for <code>{{inputValue}}</code>.</li></ul><p><img loading="lazy" alt="Setting up the API Request to send a PATCH request" src="/docs/assets/images/patchapirequest-37b1c5aebacd8ff70f3906bbf238b5af.png" width="2880" height="1284" class="img_ev3q"></p><p>After completing the above steps, you can trigger the API request to update existing data in the Supabase database.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete-request-to-remove-an-existing-record">DELETE request to remove an existing record<a class="hash-link" href="#delete-request-to-remove-an-existing-record" title="Direct link to heading">​</a></h3><p>The <code>DELETE</code> request is to the Supabase with an item&#x27;s <code>column-name</code> to remove that particular record from the table. You can use a <a href="https://supabase.io/docs/reference/javascript/using-filters" target="_blank" rel="noopener noreferrer">filter from Supabase</a> to filter the value of a specific <code>column-name</code>.</p><p>After you have created your screen components in the Draftbit builder, open the Supabase service and create the <code>DELETE</code> endpoint:</p><ul><li>Click <strong>Add endpoint</strong>.</li><li>In Step 1: enter a name for the endpoint and select the Method to <code>DELETE</code>.</li><li>In Step 2: add <code>/groceries/columnName=eq.{{columnName}}</code>. Then, add a Test value for the <code>{{columnName}}</code>. For example, the <code>{{columnName}}</code> here can be <code>id</code> of the record.</li><li>In Step 4: click the <strong>Test</strong> button next to the Endpoint input to verify the response from the Supabase.</li><li>Click Save.</li></ul><p><img loading="lazy" alt="Creating an endpoint for DELETE request" src="/docs/assets/images/delete-24e0eb13a020c5059f626813ca1ab98f.gif" width="1291" height="703" class="img_ev3q"></p><p>Next, on your Button component, go to the Interactions tab in the Properties panel located on the far-right-hand side. Select an Action called <code>API request</code>.</p><p>In the API Request action:</p><ul><li>In <strong>Service</strong>, select the name to Supabase API Service.</li><li>In <strong>Endpoint</strong>, select the name of the Endpoint.</li><li>Then, add the configuration for the query request to be sent by selecting a value. For example, in this case it will be the <code>id</code> of the record coming from the Navigation parameter.</li></ul><p><img loading="lazy" alt="Setting up the API Request to send a DELETE request" src="/docs/assets/images/deleteapirequest-be524a5570c19be59814c9be3bc7e360.gif" width="1425" height="672" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://draftb.it/3Fkbask" target="_blank" rel="noopener noreferrer">Draftbit</a> official website.</li><li><a href="https://community.draftbit.com/home" target="_blank" rel="noopener noreferrer">Draftbit Community</a>.</li><li><a href="https://docs.draftbit.com/" target="_blank" rel="noopener noreferrer">Draftbit</a> documentation.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/docs/guides/integrations/draftbit.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-get-the-restful-endpoint-and-project-api-key" class="table-of-contents__link toc-highlight">Step 1: Get the RESTful endpoint and Project API key</a></li><li><a href="#step-2-save-supabase-api-key-as-authorization-header-in-draftbit" class="table-of-contents__link toc-highlight">Step 2: Save Supabase API key as Authorization Header in Draftbit</a></li><li><a href="#step-3-add-supabase-restful-endpoint-in-draftbit" class="table-of-contents__link toc-highlight">Step 3: Add Supabase RESTful endpoint in Draftbit</a></li><li><a href="#making-api-requests-with-supabase--draftbit" class="table-of-contents__link toc-highlight">Making API requests with Supabase &amp; Draftbit</a><ul><li><a href="#get-request-to-fetch-all-records" class="table-of-contents__link toc-highlight">GET request to Fetch all records</a></li><li><a href="#get-request-to-fetch-single-row" class="table-of-contents__link toc-highlight">GET request to fetch single row</a></li><li><a href="#post-request-to-submit-a-new-row" class="table-of-contents__link toc-highlight">POST request to submit a new row</a></li><li><a href="#patch-request-to-update-a-new-record" class="table-of-contents__link toc-highlight">PATCH request to Update a new record</a></li><li><a href="#delete-request-to-remove-an-existing-record" class="table-of-contents__link toc-highlight">DELETE request to remove an existing record</a></li></ul></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Dijets Inc.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.23337c97.js"></script>
<script src="/docs/assets/js/main.57ad0143.js"></script>
</body>
</html>